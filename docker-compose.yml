version: "3.8"

services:

  tomcatSrv:
    depends_on:
      - rabbitmqSrv
    image: tomcat:8.5.69-jdk8-corretto
    container_name: Tomcat
    ports:
      - 8081:8080
    volumes:
      - ./target/docker-task-1.0.war:/usr/local/tomcat/webapps/docker-task-1.0.war
    networks:
      - rabbitmq_tomcat_net

  rabbitmqSrv:
    build:
      context: https://github.com/ikonovi/docker-test-task_L3/rabbitmq
    container_name: RabbitMq
    ports:
      - 8080:5672
      - 15672:15672
    networks:
      - rabbitmq_tomcat_net

networks:
  rabbitmq_tomcat_net:
    driver: bridge
